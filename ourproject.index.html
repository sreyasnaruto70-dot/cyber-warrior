
<!DOCTYPE html>
<html lang="en">
<head>
  <script src='https://www.noupe.com/embed/019a149508867e14916d37f6052ae9f52c66.js'></script>
<head>   <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My First HTML Page</title>
</head>
<body>

    <h1>Welcome to the Page!</h1>

    <p>This is a standard paragraph of text.</p>

    <p style="color: #006400; font-weight: bold;">
        This text is styled with the DarkGreen hex code.
    </p>

</body>
</
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoNeura AI</title>
    <!-- TensorFlow.js Core library -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.18.0/dist/tf.min.js"></script>
    <!-- TFLite library for running TensorFlow Lite models -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-tflite@0.0.1-alpha.8/dist/tf-tflite.min.js"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            <script src='https://www.noupe.com/embed/019a0cf972f77c878e2bcda4f4422193741e.js'></script>

            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a2a44, #2e4a6e);
            color: white;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            box-sizing: border-box;
        }
        .container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            width: 100%;
            max-width: 1200px;
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #00d4ff;
        }
        @media (min-width: 1024px) {
            .container {
                grid-template-columns: 1fr 3fr 1fr;
                grid-template-rows: auto 1fr auto auto;
            }
        }
        .header, .live-feed, .plant-count, .controls, .status, .sensors, .current-process {
            background: #1a2a44;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.1);
        }
        .header {
            grid-column: 1 / -1;
            font-size: clamp(20px, 4vw, 28px);
            font-weight: bold;
            padding: 20px;
            border-bottom: 2px solid #00d4ff;
        }
        .live-feed {
            grid-column: 1 / -1;
            position: relative;
        }
        @media (min-width: 1024px) {
            .live-feed {
                grid-column: 2 / 3;
                grid-row: 2 / 5;
            }
        }
        .live-feed img, .live-feed video {
            width: 100%;
            height: auto;
            border-radius: 5px;
            background-color: #333;
        }
        .live-feed .overlay {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            border-radius: 10px;
        }
        .plant-count div, .sensors div {
            margin: 15px 0;
            font-size: 18px;
        }
        .plant-count .diseased { color: #ff4d4d; }
        .plant-count .healthy { color: #00cc00; }
        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
         @media (min-width: 1024px) {
            .controls {
                grid-column: 1 / 2;
                grid-row: 2 / 5;
                grid-template-columns: 1fr;
            }
        }
        .controls button {
            background: #2e4a6e;
            color: white;
            border: 2px solid #00d4ff;
            border-radius: 10px;
            padding: 12px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .controls button:hover, .controls button:focus {
            background: #90EE90;
            color: #90EE90;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 212, 255, 0.4);
        }
        .status {
            grid-column: 1 / -1;
        }
         @media (min-width: 1024px) {
            .status {
                grid-column: 2 / 3;
                grid-row: 5 / 6;
            }
        }
        .status .active { color: #90EE90; }
        h3 {
            margin-top: 0;
            font-weight: 600;
            border-bottom: 1px solid #00d4ff30;
            padding-bottom: 10px;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            overflow: auto;
            animation: fadeIn 0.3s;
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .modal-content {
            background-color: #90EE90;
            margin: 10% auto;
            padding: 25px;
            border: 2px solid #00d4ff;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 5px 25px rgba(0, 212, 255, 0.2);
            position: relative;
        }
        .close {
            color: #aaa;
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close:hover { color: white; }
        .upload-area {
            border: 2px dashed #00d4ff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .upload-area:hover { background-color: #2e4a6e; }
        .progress-bar {
            height: 20px;
            background-color: #2e4a6e;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        .progress {
            height: 100%;
            background-color: #00d4ff;
            width: 0%;
            transition: width 0.4s ease-in-out;
        }
        #camera-feed {
            display: none;
        }
        #capture-btn {
            margin-top: 10px;
            padding: 10px 20px;
            background: #1a2a44;
            color: white;
            border: 2px solid #00d4ff;
            border-radius: 10px;
            cursor: pointer;
            display: none;
        }
        .modal-btn {
             background: #2e4a6e;
            color: white;
            border: 2px solid #00d4ff;
            border-radius: 10px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }
         .modal-btn:hover { background: #00d4ff; color: #1a2a44; }
         .analysis-result {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.7);
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
         }
         .healthy-result { border-left: 4px solid #00cc00; }
         .diseased-result { border-left: 4px solid #ff4d4d; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">ECONEURA  AI</div>
        
        <div class="controls">
            <button id="rescan-btn"><i class="fas fa-sync-alt"></i> RE-ANALYSIS</button>
            <button id="classify-btn"><i class="fas fa-robot"></i> CLASSIFY PLANT</button>
            <button id="water-btn"><i class="fas fa-tint"></i> WATER-FIELD</button>
            <button id="pesticide-btn"><i class="fas fa-spray-can"></i> PESTICIDE</button>
            <button id="seeding-btn"><i class="fas fa-seedling"></i> SEEDING</button>
            <button id="upload-btn"><i class="fas fa-file-upload"></i> UPLOAD MODEL</button>
        </div>

        <div class="live-feed">
            <h3>LATEST ANALYSIS</h3>
            <div id="latest-analysis-container">
                <img id="latest-analysis-img" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQwIiBoZWlnaHQ9IjQ4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMzMzIj48L3JlY3Q+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjI0IiBmaWxsPSIjZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gYW5hbHlzaXMgeWV0PC90ZXh0Pjwvc3Zn+" alt="Latest Analysis">
                <div id="analysis-result" class="analysis-result" style="display: none;"></div>
            </div>
        </div>

        <div class="plant-count">
            <h3>PLANT COUNT</h3>
            <div class="diseased">
                <i class="fas fa-virus"></i> DISEASED: <span id="diseased-count">0</span>
            </div>
            <div class="healthy">
                <i class="fas fa-leaf"></i> HEALTHY: <span id="healthy-count">0</span>
            </div>
        </div>

        <div class="sensors">
            <h3>SENSORS</h3>
            <div><i class="fas fa-water"></i> SOIL-MOISTURE: <span id="soil">Normal</span></div>
            <div><i class="fas fa-thermometer-half"></i> TEMPERATURE: <span id="temp">27</span>°C</div>
            <div><i class="fas fa-wind"></i> HUMIDITY: <span id="humidity">65</span>%</div>
        </div>
        
        <div class="current-process">
            <h3>CURRENT PROCESS</h3>
            <span id="current-process"><i class="fas fa-clock"></i> IDLE</span>
        </div>

        <div class="status">
            <h3>SYSTEM STATUS</h3>
            <span id="status-text" class="active">IDLE</span>
        </div>
    </div>

    <!-- Modal for image capture/upload -->
    <div id="upload-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Plant Image Analysis</h2>
            <p>Please capture an image using your camera or upload an existing image.</p>
            
            <div id="initial-options" style="display: flex; justify-content: space-around; margin: 20px 0;">
                <button id="use-camera-btn" class="modal-btn">Use Camera</button>
                <button id="upload-image-btn" class="modal-btn">Upload Image</button>
            </div>
            
            <!-- This div will hold the camera feed -->
            <div id="camera-view" style="display: none;">
                <video id="camera-feed" autoplay playsinline style="width: 100%; border-radius: 5px;"></video>
                <button id="capture-btn" class="modal-btn" style="margin-top: 10px;">Capture Image</button>
            </div>

            <div class="upload-area" id="upload-area" style="display: none;">
                <p>Drag & drop image here or click to browse</p>
                <input type="file" id="image-upload" accept="image/*" style="display: none;">
            </div>
            
            <div class="progress-bar">
                <div class="progress" id="progress-bar"></div>
            </div>
            
            <button id="analyze-btn" class="modal-btn" style="margin-top: 20px; display: none;">Analyze Image</button>
        </div>
    </div>

    <!-- Modal for task notifications -->
    <div id="task-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="task-title">Task Started</h2>
            <p id="task-message">The task has been started successfully.</p>
            <button id="task-ok-btn" class="modal-btn" style="margin-top: 20px;">OK</button>
        </div>
    </div>

    <!-- Modal for model upload -->
    <div id="model-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Upload TFLite Model</h2>
            <p>Please upload your .tflite model file.</p>
            
            <div class="upload-area" id="model-upload-area">
                <p>Drag & drop .tflite file here or click to browse</p>
                <input type="file" id="model-upload" accept=".tflite" style="display: none;">
            </div>
            
             <div class="progress-bar">
                <div class="progress" id="model-progress-bar"></div>
            </div>
            
            <button id="load-model-btn" class="modal-btn" style="margin-top: 20px; display: none;">Load Model</button>
        </div>
    </div>

    <script>
        // --- GLOBAL VARIABLES ---
        let diseasedCount = 0;
        let healthyCount = 0;
        let tfliteModel = null;
        let modelLoaded = false;
        let modelFile = null;
        let imageElementForAnalysis = null;
        let lastAnalyzedImageElement = null; // To store the last image for re-analysis
        let lastAnalysisResult = null; // To store the last analysis result
        
        // This should match the classes your model was trained on, in the correct order.
        const CLASS_NAMES = ['Diseased', 'Healthy'];
        const IMAGE_SIZE = 224; // This must match the input size of your model

        // --- DOM ELEMENT REFERENCES ---
        const getEl = (id) => document.getElementById(id);
        const rescanBtn = getEl('rescan-btn');
        const classifyBtn = getEl('classify-btn');
        const waterBtn = getEl('water-btn');
        const pesticideBtn = getEl('pesticide-btn');
        const seedingBtn = getEl('seeding-btn');
        const uploadBtn = getEl('upload-btn');
        const uploadModal = getEl('upload-modal');
        const taskModal = getEl('task-modal');
        const modelModal = getEl('model-modal');
        const uploadArea = getEl('upload-area');
        const imageUpload = getEl('image-upload');
        const analyzeBtn = getEl('analyze-btn');
        const cameraFeed = getEl('camera-feed');
        const captureBtn = getEl('capture-btn');
        const useCameraBtn = getEl('use-camera-btn');
        const uploadImageBtn = getEl('upload-image-btn');
        const modelUploadArea = getEl('model-upload-area');
        const modelUpload = getEl('model-upload');
        const loadModelBtn = getEl('load-model-btn');
        const progressBar = getEl('progress-bar');
        const modelProgressBar = getEl('model-progress-bar');
        const statusText = getEl('status-text');
        const currentProcess = getEl('current-process');
        const initialOptions = getEl('initial-options');
        const cameraView = getEl('camera-view');
        const latestAnalysisImg = getEl('latest-analysis-img');
        const analysisResult = getEl('analysis-result');

        // --- UI UPDATE FUNCTIONS ---
        const updateStatus = (text) => statusText.textContent = text;
        const updateProcess = (text) => currentProcess.innerHTML = `<i class="fas fa-cogs"></i> ${text}`;
        
        const showTaskModal = (title, message) => {
            getEl('task-title').textContent = title;
            getEl('task-message').textContent = message;
            taskModal.style.display = 'block';
        };

        // --- EVENT LISTENERS ---
        rescanBtn.addEventListener('click', startRescan);
        classifyBtn.addEventListener('click', () => startAnalysisProcess("CLASSIFYING"));
        waterBtn.addEventListener('click', () => showTaskModal("Watering Field", "Watering process has been started."));
        pesticideBtn.addEventListener('click', () => showTaskModal("Applying Pesticide", "Pesticide application process has been started."));
        seedingBtn.addEventListener('click', () => showTaskModal("Seeding", "Seeding process has been started."));
        uploadBtn.addEventListener('click', () => modelModal.style.display = 'block');
        
        document.querySelectorAll('.close').forEach(btn => btn.addEventListener('click', closeAllModals));
        getEl('task-ok-btn').addEventListener('click', () => taskModal.style.display = 'none');
        
        uploadArea.addEventListener('click', () => imageUpload.click());
        modelUploadArea.addEventListener('click', () => modelUpload.click());
        
        imageUpload.addEventListener('change', handleImageUpload);
        modelUpload.addEventListener('change', handleModelUpload);
        
        analyzeBtn.addEventListener('click', analyzeImage);
        loadModelBtn.addEventListener('click', loadModel);
        useCameraBtn.addEventListener('click', startCamera);
        uploadImageBtn.addEventListener('click', () => {
            initialOptions.style.display = 'none';
            uploadArea.style.display = 'block';
        });
        captureBtn.addEventListener('click', captureImage);

        // --- CORE FUNCTIONS ---

        function startRescan() {
            if (!modelLoaded) {
                showTaskModal("Model Not Loaded", "Please upload and load your TFLite model first.");
                return;
            }
            if (!lastAnalyzedImageElement) {
                showTaskModal("No Previous Image", "Please classify an image first to use the re-analysis feature.");
                return;
            }
            updateProcess("RESCANNING");
            imageElementForAnalysis = lastAnalyzedImageElement; // Use the last image
            analyzeImage(); // Call the main analysis function
        }

        function startAnalysisProcess(processName) {
            if (!modelLoaded) {
                showTaskModal("Model Not Loaded", "Please upload and load your TFLite model first.");
                return;
            }
            updateProcess(processName);
            uploadModal.style.display = 'block';
            resetUploadModal();
        }

        function closeAllModals() {
            uploadModal.style.display = 'none';
            taskModal.style.display = 'none';
            modelModal.style.display = 'none';
            stopCamera();
        }
        
        function resetUploadModal() {
            initialOptions.style.display = 'flex';
            cameraView.style.display = 'none';
            uploadArea.style.display = 'none';
            uploadArea.innerHTML = '<p>Drag & drop image here or click to browse</p>';
            analyzeBtn.style.display = 'none';
            progressBar.style.width = '0%';
            imageElementForAnalysis = null;
            imageUpload.value = '';
        }

        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    imageElementForAnalysis = new Image();
                    imageElementForAnalysis.src = e.target.result;
                    imageElementForAnalysis.onload = () => {
                        uploadArea.innerHTML = `<img src="${e.target.result}" style="max-width: 100%; max-height: 200px; border-radius: 5px;">`;
                        analyzeBtn.style.display = 'block';
                    };
                };
                reader.readAsDataURL(file);
            }
        }
        
        function handleModelUpload(event) {
            modelFile = event.target.files[0];
            if (modelFile && modelFile.name.endsWith('.tflite')) {
                modelUploadArea.innerHTML = `<p>File selected: ${modelFile.name}</p>`;
                loadModelBtn.style.display = 'block';
                modelProgressBar.style.width = '50%';
            } else {
                showTaskModal("Invalid File", "Please select a valid .tflite file.");
                modelFile = null;
            }
        }

        async function loadModel() {
            if (!modelFile) {
                showTaskModal("Error", "No model file selected.");
                return;
            }
            updateStatus("Loading model...");
            loadModelBtn.textContent = "Loading...";
            loadModelBtn.disabled = true;

            const reader = new FileReader();
            reader.onload = async (e) => {
                try {
                    // Load the model from the ArrayBuffer
                    tfliteModel = await tflite.loadTFLiteModel(e.target.result);
                    modelLoaded = true;
                    
                    updateStatus("Model loaded successfully");
                    modelProgressBar.style.width = '100%';
                    
                    setTimeout(() => {
                        modelModal.style.display = 'none';
                        showTaskModal("Success", "Model loaded successfully. You can now analyze plant images.");
                        loadModelBtn.textContent = "Load Model";
                        loadModelBtn.disabled = false;
                    }, 1000);

                } catch (error) {
                    console.error("Error loading model:", error);
                    showTaskModal("Error", "Failed to load model. Check console for details.");
                    updateStatus("Error loading model");
                    loadModelBtn.textContent = "Load Model";
                    loadModelBtn.disabled = false;
                }
            };
            // Read the file as an ArrayBuffer, which is required by loadTFLiteModel
            reader.readAsArrayBuffer(modelFile);
        }
        
        async function startCamera() {
            try {
                updateStatus("Starting camera...");
                initialOptions.style.display = 'none';
                cameraView.style.display = 'block';
                captureBtn.style.display = 'none'; // hide initially

                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                cameraFeed.srcObject = stream;

                cameraFeed.onloadedmetadata = () => {
                    cameraFeed.play();
                    updateStatus("Camera ready");
                    captureBtn.style.display = 'inline-block'; // show when ready
                };
            } catch (error) {
                console.error("Error accessing camera:", error);
                showTaskModal("Camera Error", "Could not access camera. Please check permissions and ensure you are on a secure (HTTPS) connection.");
                updateStatus("Camera error");
                resetUploadModal();
            }
        }
        
        function stopCamera() {
            if (cameraFeed.srcObject) {
                cameraFeed.srcObject.getTracks().forEach(track => track.stop());
                cameraFeed.srcObject = null;
                // Remove the event listener to prevent potential memory leaks
                cameraFeed.onloadedmetadata = null;
            }
        }

        function captureImage() {
            const canvas = document.createElement('canvas');
            canvas.width = cameraFeed.videoWidth;
            canvas.height = cameraFeed.videoHeight;
            const ctx = canvas.getContext('2d');
            ctx.drawImage(cameraFeed, 0, 0, canvas.width, canvas.height);

            const dataUrl = canvas.toDataURL('image/jpeg');
            imageElementForAnalysis = new Image();
            imageElementForAnalysis.src = dataUrl;

            imageElementForAnalysis.onload = () => {
                cameraView.style.display = 'none';
                stopCamera();

                uploadArea.innerHTML = `<img src="${dataUrl}" style="max-width: 100%; max-height: 200px; border-radius: 5px;">`;
                uploadArea.style.display = 'block';

                analyzeBtn.style.display = 'block';

                setTimeout(() => {
                    analyzeImage();
                }, 500);
            };
        }

        // Update the dashboard with the latest analysis image and result
        function updateDashboardWithLatestAnalysis(imageSrc, result, confidence) {
            // Update the image in the dashboard
            latestAnalysisImg.src = imageSrc;
            
            // Update the result display
            const isHealthy = result === 'Healthy';
            analysisResult.textContent = `${result} (${confidence}% confidence)`;
            analysisResult.className = `analysis-result ${isHealthy ? 'healthy-result' : 'diseased-result'}`;
            analysisResult.style.display = 'block';
        }

        async function analyzeImage() {
            if (!modelLoaded) {
                showTaskModal("Error", "Model is not loaded.");
                return;
            }
            if (!imageElementForAnalysis) {
                showTaskModal("Error", "No image selected for analysis.");
                return;
            }

            updateStatus("Analyzing...");

            const isModalOpen = uploadModal.style.display === 'block';
            if (isModalOpen) {
                analyzeBtn.disabled = true;
                analyzeBtn.textContent = "Analyzing...";
                progressBar.style.width = '25%';
            }

            setTimeout(() => {
                tf.tidy(() => {
                    let imgTensor = tf.browser.fromPixels(imageElementForAnalysis);
                    const resizedTensor = tf.image.resizeBilinear(imgTensor, [IMAGE_SIZE, IMAGE_SIZE]);
                    const normalizedTensor = resizedTensor.div(255.0);
                    const batchedTensor = normalizedTensor.expandDims(0);

                    if (isModalOpen) {
                        progressBar.style.width = '60%';
                    }

                    const outputTensor = tfliteModel.predict(batchedTensor);
                    const prediction = outputTensor.dataSync(); // [0.98] from sigmoid

                    const score = prediction[0];
                    const isHealthy = score >= 0.5;
                    const resultClass = isHealthy ? 'Healthy' : 'Diseased';
                    const confidence = Math.round(isHealthy ? score * 100 : (1 - score) * 100);

                    // ✅ Increment count only if this is a new image
                    if (imageElementForAnalysis !== lastAnalyzedImageElement) {
                        if (isHealthy) {
                            healthyCount++;
                            getEl('healthy-count').textContent = healthyCount;
                        } else {
                            diseasedCount++;
                            getEl('diseased-count').textContent = diseasedCount;
                        }
                    }

                    // ✅ Store image and result for future reference
                    lastAnalyzedImageElement = imageElementForAnalysis;
                    lastAnalysisResult = { result: resultClass, confidence: confidence };

                    // ✅ Update the dashboard with the latest analysis
                    updateDashboardWithLatestAnalysis(imageElementForAnalysis.src, resultClass, confidence);

                    if (isModalOpen) {
                        progressBar.style.width = '100%';
                    }

                    setTimeout(() => {
                        if (isModalOpen) {
                            closeAllModals();
                        }
                        showTaskModal("Analysis Complete", `Result: ${resultClass} (Confidence: ${confidence}%)`);
                        updateProcess("IDLE");
                        updateStatus("IDLE");

                        if (isModalOpen) {
                            analyzeBtn.disabled = false;
                            analyzeBtn.textContent = "Analyze Image";
                        }
                    }, 1000);
                });
            }, 100);
        }

    </script>

    <script>
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function updateSensors() {
            // Simulate sensor values
            const moistureStates = ['Dry', 'Normal', 'Wet'];
            const soilValue = moistureStates[getRandomInt(0, 2)];
            const tempValue = getRandomInt(20, 35);     // °C
            const humidityValue = getRandomInt(40, 80); // %

            // Update UI
            document.getElementById('soil').textContent = soilValue;
            document.getElementById('temp').textContent = tempValue;
            document.getElementById('humidity').textContent = humidityValue;

            console.log(`[Sensor Update] Soil: ${soilValue}, Temp: ${tempValue}°C, Humidity: ${humidityValue}%`);
        }

        // Call update every 15 seconds
        setInterval(updateSensors, 15000);

        // Initial call
        updateSensors();
    </script>

</body>
</html>
